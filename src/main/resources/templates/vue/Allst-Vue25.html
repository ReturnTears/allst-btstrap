<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Vue中使用SockJS</title>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <!--<script th:src="@{/webjars/vue/2.6.9/dist/vue.js}"></script>-->
    <!-- vue-resource依赖vue，所以先导入vue,vue-resource想vue中挂载了this,如：this.$http.jsonp -->
    <!--<script th:src="@{/webjars/vue-resource/1.3.4/dist/vue-resource.js}"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>-->
</head>
<body>

<div id="app">

</div>

<script type="text/javascript">
    // Vue调用WebSocket的数据接口
    // 与SockJS服务建立连接
    var sock = new SockJS('https://mydomain.com.my_prefix');
    sock.onopen = function () {
        console.log('open');
        sock.send('test');
    };
    sock.onmessage =function (e) {
        console.log('message', e.data)
    };
    sock.onclose = function () {
        console.log('close')
    };


//    var socket = io.connect('http://localhost:8181');
//    console.log('a user connected');
//    socket.$emit('my other event', {my: 'data'});
//    socket.on('disconnect', function () {
//        console.log('user disconnected');
//    })
</script>
</body>
</html>